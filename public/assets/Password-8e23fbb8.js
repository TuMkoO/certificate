import{d as g,u as k,g as M,w as B,_ as C,o as d,a as s,h as E,i as u,v as _,j as e,n as p,k as w,c as f,t as v,l as h}from"./index-39cd67e8.js";import{u as N,a as b,c as y}from"./index.esm-6a268568.js";const V={class:"container"},$=s("div",{class:"py-4"},[s("h4",{class:"text-center mb-4"},"Сменить пароль")],-1),D={class:"profile"},F={class:"row justify-content-center"},j={class:"col-md-6"},q={class:"mb-3"},R=s("label",{for:"oldPassword",class:"form-label"},"Текущий пароль",-1),T={key:0,class:"form-text text-danger"},U={class:"mb-3"},z=s("label",{for:"newPassword",class:"form-label"},"Новый пароль",-1),A={key:0,class:"form-text text-danger"},G=s("button",{type:"submit",class:"btn btn-primary mt-3"}," Сохранить ",-1),a=7,O=g({__name:"Password",setup(H){const P=k(),{handleSubmit:x,resetForm:S}=N(),{value:r,errorMessage:n}=b("oldPassword",y().trim().required("Пожалуйста, введите пароль").min(a,`Пароль не может быть меньше ${a} символов`)),{value:l,errorMessage:i}=b("newPassword",y().trim().required("Пожалуйста, введите пароль").min(a,`Пароль не может быть меньше ${a} символов`)),c=x(async m=>{try{await P.dispatch("auth/updatePassword",m),S()}catch{}});return(m,t)=>(d(),M(C,{title:"Сменить пароль"},{default:B(()=>[s("div",V,[$,s("div",D,[s("div",F,[s("div",j,[s("form",{onSubmit:t[2]||(t[2]=E((...o)=>e(c)&&e(c)(...o),["prevent"]))},[s("div",q,[R,u(s("input",{type:"password",class:p(["form-control",{"is-invalid":e(n)}]),id:"oldPassword",placeholder:"Введите ваш текущий пароль","onUpdate:modelValue":t[0]||(t[0]=o=>w(r)?r.value=o:null)},null,2),[[_,e(r)]]),e(n)?(d(),f("div",T,v(e(n)),1)):h("",!0)]),s("div",U,[z,u(s("input",{type:"password",class:p(["form-control",{"is-invalid":e(i)}]),id:"newPassword",placeholder:"Введите ваш новый пароль","onUpdate:modelValue":t[1]||(t[1]=o=>w(l)?l.value=o:null)},null,2),[[_,e(l)]]),e(i)?(d(),f("div",A,v(e(i)),1)):h("",!0)]),G],32)])])])])]),_:1}))}});export{O as default};
